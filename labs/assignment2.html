<!doctype html>
<html>
<head>
<title>Computer Organization (CSC 252) Spring 2023</title>

<link href="https://fonts.googleapis.com/css?family=Lato:300,700|Roboto+Condensed" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../css/main.css">

</head>
<body>

<div class="main_container">

<div class="topbar">
  <div class="topbar_left"><a href="../index.html">CSC 252</a></div>
  <div class="topbar_left"><a href="../index.html">Home</a></div>
  <div class="topbar_left"><a href="../schedule.html">Schedule</a></div>
  <div class="topbar_left"><a href="../syllabus.html">Syllabus</a></div>
  <div class="topbar_left"><a href="https://learn.rochester.edu/">Blackboard</a></div>
</div>


<div class="content_container">
<div class="home_container">

  <div class="sub_title">Assignment 2: Defusing a Binary Bomb</div>

  <h2><p>
  <font color="red">If you want to use slip days you have to tell us before the deadline (by filling out <a href="https://forms.office.com/r/NTvyMUQukX">this form</a>). We won't by default assume slip days for late submissions, and won't retroactively apply slip days.</font><br><br>
  <font color="red">No email submissions will be accepted.</font>
  </p></h2>

  <h2>Introduction</h2>
  <p>
  The nefarious Dr. Evil has planted a slew of "binary
  bombs" on our machines.&nbsp;  A binary bomb is a program that
  consists of a sequence of
  phases.&nbsp;  Each phase expects you to type a particular string on standard
  input.&nbsp;  If you type the correct string, then the phase is defused and
  the bomb proceeds to the next phase.&nbsp;  Otherwise, the bomb explodes by
  printing "BOOM!!!" and then terminating.&nbsp;  The bomb is
  defused when every phase has been defused.&nbsp;
  </p>
  <p>
  There are too many bombs for us to deal with, so we are giving each
  group a bomb to defuse.&nbsp;  Your mission, which you have no choice but to
  accept, is to defuse your bomb before the due date.&nbsp;  Good luck, and
  welcome to the bomb squad!&nbsp;

  </p>

  <p>
  </p><h2>Due Dates</h2>
  <p>
  11:59pm, Monday, Feb. 13.&nbsp;
  </p>

  <h2>Step 1: Get Your Bomb</h2>
  <p>
  Each group of students will attempt to defuse their own personalized
  bomb.&nbsp; Each bomb is a Linux binary executable file that has been
  compiled from a C program.&nbsp; To obtain your group's bomb,
  one (and only one) of the group members should point your Web browser
  to the bomb request daemon at
  </p><p>
  <a href="http://cycle1.csug.rochester.edu:15213/">http://cycle1.csug.rochester.edu:15213</a>
  </p>
  <p>Note that this will work only on CS department machines.&nbsp; It
  won't work outside the department&mdash;even elsewhere on campus. If you are not on CS department machines, you could <code>ssh</code> into any of the CSUG machine and use a text-based browser such as <a href="http://lynx.browser.org/">lynx</a>&mdash;it probably is more fun that way ;-)
  </p>
  <p>
  Fill out the HTML form with your email address and name, 
  and then submit the form by clicking the "Submit"
  button.&nbsp; The request daemon will build your bomb and return it
  immediately to your browser in a tar file called
  <code>bombk.tar</code>, where k is the unique number of your
  bomb.&nbsp;<font color="red">If you work in pairs, use only one student's information to request the bomb, and email the grad TAs who you are working with.</font>
  </p>
  <p>
  Save the <code>bombk.tar</code>
  file to a (protected) directory in which you plan to do your
  work.&nbsp; Then give the command: <code>tar -xvf bombk.tar</code>.&nbsp;
  This will create a directory called <code>bombk</code>
  with the following files:&nbsp;
  </p><ul>
    <li>
    <code>README</code>:&nbsp;
    Identifies the bomb and its owners.&nbsp;
    </li>
    <li>
    <code>bomb</code>:&nbsp;
    The executable binary bomb.&nbsp;
    </li>
    <li>
    <code>bomb.c</code>:&nbsp;
    Source file with the bomb's main routine.&nbsp;
    </li>
  </ul>
  <p>
  If you make any kind of mistake requesting a bomb (such as
  neglecting to save it, or typing the wrong group members), simply
  request another (with the same information).&nbsp;
  If you change groups but have not had any explosions from your current bomb, again, request another bomb; we'll sort
  out the duplicate assignments when we do the grading.&nbsp;You can't request a new bomb just because you want to get away with the explosion penalty from your current bomb.
  </p>

  <table><tbody><tr><td>


  <h2>Step 2: Defuse Your Bomb</h2>
  <p>
  Once you have received your bomb from the bomb daemon,
  save it in a secure directory.&nbsp;  Your job is to defuse the bomb.&nbsp;
  </p>
  <p>
    The bombs are limited to run on the CS undergraduate network only.&nbsp; We have
    tried to enable all machines on the undergraduate network, but machines come
    and go.&nbsp; If your machine doesn't want to run the bomb executable, ssh to
    one of the cycle servers (cycle1, cycle2, cycle3.csug.rochester.edu) and
    run it there. Contact the TA with any problems related to this issue.
  </p>
  <p>
  You can use many tools to help you with this; please look at the
  hints section for some tips and ideas.&nbsp;  The best way is to use
  your favorite debugger to step through the disassembled binary.&nbsp;
  </p>
  <p>
  <b>Each time your bomb explodes it notifies the TA, and you lose
  1/4 point (up to a max of 10 points) in the final score for the lab.&nbsp;
  So there are consequences to exploding the bomb.&nbsp;  You must be
  careful!&nbsp;</b>
  </p>
  <p>
  The first four phases are worth 10 points each;
  phases five and six are worth 15 points each, for a total of 70 points.&nbsp;We will grade this lab on a scale of 0 to 70, and scale it back to 8 as each programming assignment contributes to 8% of the final grade.
  </p>
  <p>
  The phases get progressively harder to defuse, but the expertise you
  gain as you move from phase to phase should offset this
  difficulty.&nbsp;  However, the last phase will challenge even the best
  students, so please don't wait until the last minute to start.&nbsp;
  </p>
  <p>
  The bomb ignores blank input lines.&nbsp;  If you run the bomb with a
  command line argument such as <code>bomb_codes</code>, it will read the
  input lines from <code>bomb_codes</code> until it reaches EOF, and then
  switch over to standard input.&nbsp;  In a moment of weakness, Dr. Evil added
  this feature so you don't have to keep retyping the solutions to phases
  you have already defused.&nbsp;
  </p>
  <p>
  To avoid accidentally detonating the bomb, you will need to learn how to
  single-step through the assembly code and how to set breakpoints.&nbsp;  You
  will also need to learn how to inspect both the registers and
  memory.&nbsp;  One of the nice side-effects of doing the lab is that
  you will get very good at using a debugger.&nbsp;  This is a crucial skill
  that will pay big dividends the rest of your career.&nbsp;
  </p>

  <h2>Logistics</h2>
  <p>
  Your group can consist of either 1 or 2 people.&nbsp;
  </p>
  <p>
  Any clarifications and revisions to the assignment will be
  posted to the Blackboard forum.&nbsp;
  </p>
  <p>
  Do be sure to work on the class machines.&nbsp;  In fact, there is
  a rumor that Dr. Evil really is evil, and the bomb will always blow up
  if run elsewhere.&nbsp;  There are several other tamper-proofing devices
  built into the bomb as well, or so they say.&nbsp;
  </p>

  <h2>Turn-In</h2>
  <p>
  There is no explicit turn-in for the main assignment.&nbsp;  The bomb will notify us automatically
  after you have successfully defused it.&nbsp;  You can keep track of how you
  (and the other groups) are doing by looking at
  <a href="http://cycle1.csug.rochester.edu:15213/scoreboard">
  the score board</a>.&nbsp;
  This web page is updated continuously to show the progress of each
  group.&nbsp;  (Again, note that it works only within the
  department.)&nbsp;</p>

  <p>
  </p><h2>Hints (Please read this!)</h2>
  <p>
  There are many ways to go about defusing your bomb.&nbsp;  You can examine it
  in great detail without ever running the program, and figure out exactly
  what it does.&nbsp;  This is a useful technique, but it is not always easy to
  do.&nbsp;  You can also run it under a debugger, watch what it does step
  by step, and use this information to defuse it.&nbsp;  This is probably the
  fastest way of defusing it.&nbsp;
  </p><p>
  We do make one request, please do not use brute force!&nbsp;  You could
  write a program that will try every possible key to find the right
  one.&nbsp;  But this is no good for several reasons:

  </p><ul>
  <li>
  You lose 1/4 point (up to a max of 10 points)
  every time you guess incorrectly and the bomb explodes.&nbsp;

  </li><li>
  Every time you guess wrong, a message is sent to the instructors.&nbsp;  You
  could very quickly saturate the network with these messages, and cause
  the system administrators to revoke your computer access.&nbsp;

  </li><li>
  We haven't told you how long the strings are, nor have we told you
  what characters are in them.&nbsp;  Even if you made the (wrong) assumptions
  that they all are less than 80 characters long and only contain
  letters, then you will have 26<sup>80</sup> guesses for each
  phase.&nbsp;  This will take a very long time to run, and you will not
  get the answer before the assignment is due.&nbsp;

  </li></ul>
  <p>
  There are many tools that are designed to help you figure out both
  how programs work, and what is wrong when they don't work.&nbsp; Here
  is a list of some of the tools you may find useful in analyzing your bomb,
  and hints on how to use them.&nbsp;

  </p><ul>
  <li>
  <code>gdb</code>
  <p>
  The GNU debugger, available on
  virtually every platform.&nbsp;  You can trace through a program line by
  line, examine memory and registers, look at both the source code and
  assembly code (we are not giving you the source code for most of your
  bomb), set breakpoints, set memory watch points, and write scripts.&nbsp;
  Here are some tips for using <code>gdb</code>.&nbsp;

  </p><ul>
  <li>
  To keep the bomb from blowing up every time you type in a wrong
  input, you'll want to learn how to set breakpoints.&nbsp;

  </li><li>
  For other documentation, type <code>help</code> at the
  <code>gdb</code> command prompt, or type <code>man gdb</code>
  <code>info gdb</code>, or <code>xinfo gdb</code> at a Unix
  prompt.&nbsp; Many people prefer to run <code>info</code> mode inside
  <code>emacs</code>.&nbsp;
  You can even run <code>gdb</code> itself under <code>gdb-mode</code> in
  <code>emacs</code>.&nbsp;

  </li></ul>
  <p>
  </p></li><li>
  <code>objdump -t</code>
  <p>
  This will print out the bomb's symbol table.&nbsp;  The symbol table includes the
  names of all functions and global variables in the bomb, the names of
  all the functions the bomb calls, and their addresses.&nbsp;  You may learn
  something by looking at the function names!&nbsp;
  </p><p>
  </p></li><li>
  <code>objdump -d</code>
  <p>
  Use this to disassemble all of the code in the bomb.&nbsp;  You can also
  just look at individual functions.&nbsp;  Reading the assembler code can
  tell you how the bomb works.&nbsp;
  </p><p>
  </p></li><li>
  <code>strings</code>
  <p>
  This utility will display the printable strings in your bomb.&nbsp;
  </p></li></ul>
  <p>
  Looking for a particular tool?&nbsp;  Don't
  forget, the commands <code>apropos</code> and <code>man</code> are
  your friends.&nbsp;  In
  particular, <code>man ascii</code> might come in useful.&nbsp;
  The web may also be a treasure trove of information.&nbsp;  If you get
  stumped, feel free to ask the TA for help.&nbsp;

</p><p>
</p><hr>

</div>  <!-- end of home_container -->

<div class="footer">
University of Rochester, Department of Computer Science
</div>


</div>  <!-- end of content_container (defined in header.php) -->
</div>  <!-- end main_container (defined in header.php) -->


</body>
</html>

